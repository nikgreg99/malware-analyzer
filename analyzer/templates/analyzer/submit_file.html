{% extends "analyzer/base.html" %}
{% load static %}
{% block metas %}
       <meta name="description" content="File submission">
        <meta name="keywords" content="analysis">
        <title>Submit a file</title>
{% endblock %}
{% block script %}
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />
     <link rel="stylesheet" href="{% static 'analyzer/css/dropzone.css' %}">
{% endblock %}
{% block main %}
    <form method="post"  action={% url 'analyzer:submitFile' %} enctype="multipart/form-data">
        {% csrf_token %}
        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
            </div>
            <div class="custom-file">
                <input type="file" name="file" class="custom-file-input" id="input-target-file"
                       aria-describedby="input-target-file" required>
                <label class="custom-file-label" for="input-target-file">Choose file</label>
            </div>
            {% include "analyzer/fragments/select_sandbox.html" with sandboxes=sandboxes environments=environments %}
        </div>
        <input type="submit" value="Load file">
        <div class="dz-preview dz-file-preview">
  <div class="dz-details">
    <div class="dz-filename"><span data-dz-name></span></div>
    <div class="dz-size" data-dz-size></div>
    <img data-dz-thumbnail />
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-success-mark"><span>✔</span></div>
  <div class="dz-error-mark"><span>✘</span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
</div>
    </form>
{% endblock %}
