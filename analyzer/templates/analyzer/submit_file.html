{% extends "analyzer/base.html" %}
{% load static %}
{% block metas %}
       <meta name="description" content="File submission">
        <meta name="keywords" content="analysis, file">
        <title>Malware Analyzer - Submit a file</title>
{% endblock %}
{% block style %}
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css"/>
{% endblock %}
{% block main %}
        <div class="container -h-50">
            <h2 class="wrapper">
                <p class="text-center">Submit here your malicious file!</p>
            </h2>
        </div>
    <form method="post"  id="file-dropzone"class="dropzone " action={% url 'analyzer:submitFile' %} enctype="multipart/form-data" drop-zone>
        {% csrf_token %}
            <div class="fallback">
                <h3>The browser is not supported.</h3>
            </div>
            <input type="file" name="file"/>
            {% include "analyzer/fragments/select_sandbox.html" with sandboxes=sandboxes environments=environments %}
        </div>
        {% include "analyzer/fragments/modal.html" %}
    </form>
{% endblock %}
{% block script %}
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <script src="{% static 'analyzer/js/hide_dropdown_menu.js' %}"></script>
    <script type="text/javascript">
        Dropzone.options.fileDropzone= {
            autoProcessQueue: true,
            paramName: 'file',
        }
    </script>
{% endblock %}
