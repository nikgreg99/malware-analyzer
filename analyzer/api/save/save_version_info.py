from analyzer.models import VersionInfo, Overview


def save_version_infos(overview: Overview, dict_version_infos: dict):
    for dict_version_info in dict_version_infos:
        ver_info = save_version_info_if_not_exits(dict_version_info)
        overview.version_info.add(ver_info)


def save_version_info_if_not_exits(dict_version_info: dict):
    name = dict_version_info['name']
    value = dict_version_info['value']
    ver_info, created = VersionInfo.objects.get_or_create(name=name, value=value)
    return ver_info
