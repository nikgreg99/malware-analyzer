from analyzer.models import VersionInfo, Overview


def save_version_infos(overview: Overview, ver_infos: dict):
    for ver_info in ver_infos:
        ver_info_row = save_version_info_if_not_exits(ver_info)
        overview.version_info.add(ver_info_row)


def save_version_info_if_not_exits(ver_info: dict):
    name = ver_info['name']
    value = ver_info['value']
    ver_info_row, created = VersionInfo.objects.get_or_create(name=name, value=value)
    return ver_info_row
